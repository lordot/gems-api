# Gems-api

Gems-api - это тестовое задание разработанное на Django фреймворке. API позволяет импортировать данные из csv файла и получать топ 5 покупателей.

## Предварительные условия

Необходимо установить следующие пакеты:
* Git
* Docker
* Docker-compose

### Установка и Запуск

1. Клонируйте репозиторий на ваш локальный компьютер или сервер используя Git bash:

```
git clone https://github.com/lordot/gems-api
```

2. Перейдите в директорию проекта:

```
cd gems-api
```

3. Создайте файл `.env` в корневой директории проекта и укажите в нем следующие переменные среды:

```
DB_NAME=<название базы данных>
POSTGRES_USER=<логин пользователя для базы данных>
POSTGRES_PASSWORD=<пароль пользователя базы данных>
HOST=<название сервера базы данных, оставьте по умолчанию db>
PORT=<порт базы данных, по умлочанию 5432>
SECRET_KEY=<секретный ключ для сервера django, чем сложнее, тем лучше>
```

Обратите внимание, что вы должны заменить все значения в угловых скобках на соответствующие значения для вашего окружения.

4. Запустите контейнеры Docker:

```
docker-compose up --build
```

Приложение теперь должно быть доступно по адресу `http://localhost:8000`, если вы запускаете его на локальном компьютере.

## Использование

Проект имеет два API ендпоинта: 


* `http://localhost:8000/api/v1/import` - используйте POST запрос с обязательным параметром **csv_file** и вложением cамого csv файла со следующими столбцами:
```
customer,item,total,quantity,date
```

* `http://localhost:8000/api/v1/top` - используйте GET запрос, чтобы получить топ пять покупателей с наиболее популярными камнями среди этих покупателей

## Поддержка

Если у вас возникли вопросы или проблемы, создайте `issue` в этом репозитории.

## Контрибуция

Пул-реквесты приветствуются. Для крупных изменений, пожалуйста, откройте `issue` сначала, чтобы обсудить, что вы хотели бы изменить.

## Лицензия

[MIT](https://choosealicense.com/licenses/mit/)
